import{_ as i,c as a,a2 as n,o as t}from"./chunks/framework.CtkhMaM1.js";const e="/tacozip/assets/content-geotiff.DcDQET9_.svg",l="/tacozip/assets/geotiff.Dr4_qVfW.svg",h="/tacozip/assets/ifh.Wfvu7Lto.svg",p="/tacozip/assets/ifd.DGl8FMj4.svg",k="/tacozip/assets/geotiff-GeoKeyDirectory.BHlCjuPe.svg",C=JSON.parse('{"title":"The GeoTIFF format","description":"","frontmatter":{},"headers":[],"relativePath":"en/specification/geotiff.md","filePath":"en/specification/geotiff.md"}'),r={name:"en/specification/geotiff.md"};function o(d,s,g,E,y,F){return t(),a("div",null,s[0]||(s[0]=[n('<h1 id="the-geotiff-format" tabindex="-1">The GeoTIFF format <a class="header-anchor" href="#the-geotiff-format" aria-label="Permalink to &quot;The GeoTIFF format&quot;">​</a></h1><p><em>Written by Cesar Aybar and Julio Contreras.</em></p><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;Introduction&quot;">​</a></h2><p>While GeoTIFF is widely used in geospatial applications, there are surprisingly few resources that explain what makes &quot;something&quot; a GeoTIFF file. In this series of articles, we will dive deep into the binary structure of GeoTIFF files, exploring not only the traditional format but also its modern variants like Cloud-Optimized GeoTIFF (COG) and the recently introduced (here) Multi-dimensional COG.</p><figure style="display:flex;flex-direction:column;align-items:center;"><img src="'+e+'" alt="Band GIF" style="width:60%;"></figure><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Our expertise is based on reviewing <a href="https://github.com/OSGeo/gdal/tree/4ac60a58658296d4c0d568fb6e1b41a47de7fa51/frmts/gtiff" target="_blank" rel="noreferrer">GDAL GeoTIFF implementation</a> alongside the <a href="https://www.ogc.org/publications/standard/geotiff/" target="_blank" rel="noreferrer">OGC GeoTIFF standard</a>. Please let us know if you find any misinterpretation or have any suggestions for improvement at <a href="mailto:csaybar@uv.es" target="_blank" rel="noreferrer">csaybar@uv.es</a> or <a href="mailto:julio.contreras@uv.es" target="_blank" rel="noreferrer">julio.contreras@uv.es</a></p></div><h2 id="what-is-tiff" tabindex="-1">What is TIFF? <a class="header-anchor" href="#what-is-tiff" aria-label="Permalink to &quot;What is TIFF?&quot;">​</a></h2><p>Many of us think of TIFF as just another image format alongside PNG or JPEG, and we held this misconception ourselves for years. However, TIFF is actually far more sophisticated. It is closer in concept to <a href="https://stacspec.org/en" target="_blank" rel="noreferrer">STAC</a>, <a href="https://www.hdfgroup.org/solutions/hdf5/" target="_blank" rel="noreferrer">HDF5</a> or <a href="https://zarr.dev/" target="_blank" rel="noreferrer">Zarr</a>, serving as a container that can house multiple images, each with its own rich set of metadata, i.e., different sizes, resolutions, data types, and more. This versatility paves the way for GeoTIFF, which is essentially a spatially aware version of TIFF. At a high level, a TIFF/GeoTIFF file consists of three main components:</p><ul><li><strong>Image File Header (IFH)</strong></li><li><strong>Image File Directory (IFD)</strong> - There can be multiple IFDs in a TIFF file.</li><li><strong>Image Data (ID)</strong> - one for each IFD.</li></ul><figure style="display:flex;flex-direction:column;align-items:center;"><img src="'+l+'" alt="GeoTIFF file structure" style="width:100%;"><figcaption style="text-align:center;"><b>Figure 1: </b>GeoTIFF file structure considering a single IFD</figcaption></figure><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The standard TIFF format and BigTIFF primarily differ in their handling of offsets (pointers to data locations), which significantly influences their respective file size limits. Standard TIFF employs 32-bit offsets (4 bytes), restricting maximum file sizes to 4GB. On the other hand, BigTIFF utilizes 64-bit offsets (8 bytes), allowing for potentially enormous file sizes of up to 16 exabytes.</p></div><h3 id="image-file-header-ifh" tabindex="-1"><strong>Image File Header (IFH)</strong> <a class="header-anchor" href="#image-file-header-ifh" aria-label="Permalink to &quot;**Image File Header (IFH)**&quot;">​</a></h3><p>The IFH is static, located at the beginning, and maintains a consistent 12-byte size across all TIFF/GeoTIFF files. The IFH contains <strong>three</strong> components:</p><ol><li><p><strong>Byte Order (2 bytes):</strong></p><ul><li>Indicates whether the bytes are little-endian or big-endian. By default, GDAL uses little-endian.</li></ul></li><li><p><strong>Magic Number (2 bytes):</strong></p><ul><li>Always 42 (0x002A). Serves as a TIFF file&#39;s signature. Every valid TIFF must display this number (yes, 42 really is the answer!).</li></ul></li><li><p><strong>Offset to the first IFD (8 bytes):</strong></p><ul><li>Indicates the position of the first IFD in the file. It&#39;s always 8 bytes after the start of the file. Think of it as the first chapter&#39;s page number in the TIFF book.</li></ul></li></ol><figure style="display:flex;flex-direction:column;align-items:center;"><img src="'+h+'" alt="IFH" style="width:100%;"><figcaption style="text-align:center;"><b>Figure 2: </b>Image File Header (IFH) of a GeoTIFF file</figcaption></figure><h3 id="image-file-directory-ifd" tabindex="-1"><strong>Image File Directory (IFD)</strong> <a class="header-anchor" href="#image-file-directory-ifd" aria-label="Permalink to &quot;**Image File Directory (IFD)**&quot;">​</a></h3><p>Every TIFF file contains at least one Image File Directory (IFD). Think of it as a detailed table of contents that describes every aspect of how your image is stored and organized. While this might sound simple, the IFD is what gives TIFF (and by extension, GeoTIFF) its powerful flexibility.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Unlike what you might expect, the IFD doesn&#39;t have to immediately follow the IFH. It can be located anywhere in the file. This feature is used by Cloud-Optimized GeoTIFF (COG) as we will see in the third article of this series.</p></div><p>The IFD is essentially a binary format dictionary. Let&#39;s break down its structure:</p><ol><li><p><strong>Directory Entry Count (2 bytes)</strong></p><ul><li>Acts like <code>len(dictionary)</code> in Python.</li><li>Tell us how many tag-value pairs to expect.</li></ul></li><li><p><strong>The TAG entry (12 bytes each)</strong> Each tag has four pieces of information:</p><ul><li><strong>Tag ID (2 bytes):</strong> The &quot;key&quot; that identifies what this entry represents.</li><li><strong>Data Type (2 bytes):</strong> How to interpret the data (BYTE, SHORT, LONG, etc.)</li><li><strong>Count (4 bytes):</strong> Number of values to read.</li><li><strong>Value/Offset (4 bytes):</strong> If the data is small, it may fit here; <strong>otherwise, it’s an offset to where the data is actually stored in the file.</strong></li></ul></li><li><p><strong>Next IFD Pointer (4 bytes)</strong></p><ul><li>Points to another IFD. If zero (0x00000000), there is no subsequent IFD.</li><li>Enables TIFF to store multiple images in one file.</li></ul></li></ol><figure style="display:flex;flex-direction:column;align-items:center;"><img src="'+p+`" alt="IFD" style="width:100%;"><figcaption style="text-align:center;"><b>Figure 3</b>: Image File Directory (IFD) of a GeoTIFF file </figcaption></figure><h4 id="understanding-tiff-tags-at-the-byte-level" tabindex="-1">Understanding TIFF Tags at the byte level <a class="header-anchor" href="#understanding-tiff-tags-at-the-byte-level" aria-label="Permalink to &quot;Understanding TIFF Tags at the byte level&quot;">​</a></h4><p>Let&#39;s see how this works in practice. Imagine we are storing an image width of 2000 pixels:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Bytes 0-1: Tag Identifier (0x0100)</span></span>
<span class="line"><span>   0x01 - First byte  (1 in decimal)</span></span>
<span class="line"><span>   0x00 - Second byte (0 in decimal)</span></span>
<span class="line"><span>   Together: 256 decimal = ImageWidth tag</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Bytes 2-3: Data Type (0x0003)</span></span>
<span class="line"><span>   0x00 - First byte</span></span>
<span class="line"><span>   0x03 - Second byte (3 = SHORT data type)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Bytes 4-7: Count (0x00000001)</span></span>
<span class="line"><span>   0x00 0x00 0x00 0x01 (1 value)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Bytes 8-11: Value/Offset (0x000007D0)</span></span>
<span class="line"><span>   0x00 0x00 0x07 0xD0 (2000 in decimal)</span></span></code></pre></div><p>Therefore, the complete 12-byte entry would look like this in hexadecimal:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>01 00 00 03 00 00 00 01 00 00 07 D0</span></span>
<span class="line"><span>│  │  │  │  │        │  │        │</span></span>
<span class="line"><span>│  │  │  │  │        │  └────────┴── Value: 2000 (0x07D0)</span></span>
<span class="line"><span>│  │  │  │  │        │</span></span>
<span class="line"><span>│  │  │  │  └────────┴── Count: 1 value</span></span>
<span class="line"><span>│  │  │  │</span></span>
<span class="line"><span>│  │  └──┴── Data Type: 3 (SHORT)</span></span>
<span class="line"><span>│  │</span></span>
<span class="line"><span>└──┴── Tag ID: 256 (ImageWidth)</span></span></code></pre></div><p>The same information in JSON would look like:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Tag ID&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Data Type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Count&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2000</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>However, the binary format uses just 12 bytes compared to JSON&#39;s 58 bytes. It is nearly 5 times more efficient. This is the power of binary formats! You lose readability but gain efficiency. Consider that JSON was not available when GeoTIFF was proposed. I think we are ready to dive into the GeoTIFF file.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Every IFD is a set of tags or <code>Directory Entries</code>, which are key-value pairs. Unlike JSON where key-value pairs can vary in size, TIFF&#39;s Directory Entries have a fixed size of 12 bytes each, making them more efficient to parse and process.</p></div><h2 id="the-geotiff-format-1" tabindex="-1">The GeoTIFF format <a class="header-anchor" href="#the-geotiff-format-1" aria-label="Permalink to &quot;The GeoTIFF format&quot;">​</a></h2><p>What truly makes a TIFF a GeoTIFF are the <strong>specialized tags</strong> that define the coordinate system, projection, datum, and other geospatial attributes. Let&#39;s unpack how this system works.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>For a complete understanding of all GeoTIFF components, we highly recommend opening the summary diagram in another browser tab. Full diagram <a href="https://tacofoundation.github.io/mrio/assets/general_geotiff.Cv8PYgH1.svg" target="_blank" rel="noreferrer">here</a></p></div><h3 id="the-core-geographic-tags" tabindex="-1">The Core Geographic Tags <a class="header-anchor" href="#the-core-geographic-tags" aria-label="Permalink to &quot;The Core Geographic Tags&quot;">​</a></h3><p>At its heart, a GeoTIFF file relies on four fundamental tags to store geographic information:</p><table tabindex="0"><thead><tr><th>Tag Name</th><th>Tag Number</th><th>Type</th><th>What It Does</th><th>Required?</th></tr></thead><tbody><tr><td>GeoKeyDirectoryTag</td><td>34735</td><td>SHORT</td><td>The master index of geographic metadata</td><td>Yes</td></tr><tr><td>GeoDoubleParamsTag</td><td>34736</td><td>DOUBLE</td><td>Stores decimal values (like coordinates)</td><td>When needed</td></tr><tr><td>GeoAsciiParamsTag</td><td>34737</td><td>ASCII</td><td>Stores text information</td><td>When needed</td></tr><tr><td>ModelTransformationTag</td><td>34264</td><td>DOUBLE</td><td>Maps pixels to real-world coordinates</td><td>Yes*</td></tr></tbody></table><p>You can also use ModelTiepointTag + ModelPixelScaleTag instead of ModelTransformationTag, but for this article, we just focus on ModelTransformationTag.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Visit the <a href="https://www.ogc.org/publications/standards/geotiff" target="_blank" rel="noreferrer">GeoTIFF specification</a> for a complete list of tags.</p></div><h4 id="the-geokeydirectorytag-a-tag-of-tags" tabindex="-1">The GeoKeyDirectoryTag: A Tag of Tags <a class="header-anchor" href="#the-geokeydirectorytag-a-tag-of-tags" aria-label="Permalink to &quot;The GeoKeyDirectoryTag: A Tag of Tags&quot;">​</a></h4><p>The GeoKeyDirectoryTag functions similarly to a nested dictionary in Python, a tag that houses other tags. These nested tags are referred to as <strong>GeoKeys</strong>, as defined by the GeoTIFF specification. This hierarchical design ensures GeoTIFF metadata IDs remain distinct from standard TIFF ID tags. Every GeoKeyDirectoryTag begins with the same header (H) structure:</p><ol><li><strong>KeyDirectoryVersion (2 bytes)</strong><ul><li>Defines the structure format of the directory. The current version is 1.</li></ul></li><li><strong>KeyRevision (2 bytes)</strong><ul><li>Indicates what revision of Key-Sets are used. Like a database schema version. For example, KeyID 1024 might mean different things in different revisions. The current revision is 1.</li></ul></li><li><strong>MinorRevision (2 bytes)</strong><ul><li>Allows for small updates within a major revision. The current minor revision is 0. Changes here shouldn&#39;t break compatibility.</li></ul></li><li><strong>NumberOfKeys (2 bytes)</strong><ul><li>It tells you the number of GeoKey entries that follow the header. Used to calculate the size of the GeoKeyDirectoryTag. For example, if NumberOfKeys = 3, expect 12 more SHORTs (3 keys × 4 SHORTs per key).</li></ul></li></ol><p>After the header, the GeoKeyDirectoryTag contains a series of GeoKeys. Each GeoKey occupies 8 bytes (4 SHORTs) and follows a similar structure to the TIFF tags. Let&#39;s examine each component in detail:</p><ol><li><p><strong>KeyID (2 bytes)</strong></p><ul><li>The KeyID identifies what type of geographic information this entry represents. Consider that, GeoKey IDs exist in their own namespace, preventing conflicts with standard TIFF tags. Examples include GTModelTypeGeoKey (1024, defines the coordinate system type), GeographicTypeGeoKey (2048, Specifies geographic coordinate system), etc.</li></ul></li><li><p><strong>TIFFTagLocation (2 bytes)</strong></p><ul><li>This field tells us WHERE to find the actual value. It is a crucial routing mechanism that makes the GeoKeyDirectoryTag interact with the GeoDoubleParamsTag (34736) and GeoAsciiParamsTag (34737). Let&#39;s explore the three possible scenarios: <ul><li>TIFFTagLocation = 0: The value stored is small enough to fit in the GeoKey itself. Must be SHORT.</li><li>TIFFTagLocation = 34736: Value stored in GeoDoubleParamsTag. Used for floating-point metadata.</li><li>TIFFTagLocation = 34737: Value stored in GeoAsciiParamsTag. Used for text metadata.</li></ul></li></ul></li><li><p><strong>Count (2 bytes)</strong></p><ul><li>Indicates how many values to read. Its interpretation depends on TIFFTagLocation: <ul><li>If TIFFTagLocation = 0, the count is ignored as there is only one value.</li><li>If TIFFTagLocation = 34736, the number of DOUBLE values to read. Each value is 8 bytes.</li><li>If TIFFTagLocation = 34737, the number of ASCII characters to read. Each character is 1 byte.</li></ul></li></ul></li><li><p><strong>ValueOffset (2 bytes)</strong> This field has dual behaviour depending, again, on TIFFTagLocation. - If TIFFTagLocation = 0, the value is stored here. - If TIFFTagLocation = 34736 or 34737, contains <strong>index</strong> into referenced tag. This is an index <strong>not byte offset!</strong>. Therefore, for GeoDoubleParamsTag real byte_offset = ValueOffset (or index) * 8 and for GeoAsciiParamsTag byte_offset = ValueOffset (or index) * 1.</p></li></ol><figure style="display:flex;flex-direction:column;align-items:center;"><img src="`+k+`" alt="GeoKeyDirectory" style="width:100%;"><figcaption style="text-align:center;"><b>Figure 4</b>: The GeoKeyDirectoryTag (data type: <b>SHORT</b>) references geospatial metadata stored in either the GeoDoubleParamsTag (DOUBLE) for numerical values or the GeoAsciiParamsTag (ASCII) for text. </figcaption></figure><h4 id="understanding-geokeydirectorytag-tags-at-byte-level" tabindex="-1">Understanding GeoKeyDirectoryTag Tags at byte level <a class="header-anchor" href="#understanding-geokeydirectorytag-tags-at-byte-level" aria-label="Permalink to &quot;Understanding GeoKeyDirectoryTag Tags at byte level&quot;">​</a></h4><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Visit the <a href="https://www.ogc.org/publications/standards/geotiff" target="_blank" rel="noreferrer">GeoTIFF specification</a> for a complete list of geokeys.</p></div><p>Imagine we are creating a GeoTIFF from scratch, and we want to store three GeoKeys: GTModelTypeGeoKey, ProjLinearUnitsGeoKey, and GeographicTypeGeoKey.</p><ol><li>The GTModelTypeGeoKey (direct short value) would look like this:</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>KeyID: 1024 (GTModelTypeGeoKey)</span></span>
<span class="line"><span>TIFFTagLocation: 0</span></span>
<span class="line"><span>Count: 1 (ignored)</span></span>
<span class="line"><span>ValueOffset: 2 (Geographic)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Memory layout (8 bytes):</span></span>
<span class="line"><span>0400 0000 0001 0002</span></span></code></pre></div><ol start="2"><li>The ProjLinearUnitsGeoKey (double value) would look like this:</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>KeyID: 3076 (ProjLinearUnitsGeoKey)</span></span>
<span class="line"><span>TIFFTagLocation: 34736</span></span>
<span class="line"><span>Count: 1</span></span>
<span class="line"><span>ValueOffset: 0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Memory layout (8 bytes):</span></span>
<span class="line"><span>0C04 8087 0001 0000</span></span>
<span class="line"><span>Points to first double in GeoDoubleParamsTag</span></span></code></pre></div><ol start="3"><li>The GeographicTypeGeoKey (ASCII value) would look like this:</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>KeyID: 2048 (GeographicTypeGeoKey)</span></span>
<span class="line"><span>TIFFTagLocation: 34737</span></span>
<span class="line"><span>Count: 5</span></span>
<span class="line"><span>ValueOffset: 12</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Memory layout (8 bytes):</span></span>
<span class="line"><span>0008 8187 0005 000C</span></span>
<span class="line"><span>Points to character offset 12 in GeoAsciiParamsTag</span></span></code></pre></div><p>In summary, the GeoKeyDirectoryTag acts like a database index that points to the actual values stored itself or in the GeoDoubleParamsTag or GeoAsciiParamsTag.</p><h3 id="the-modeltransformationtag" tabindex="-1">The ModelTransformationTag <a class="header-anchor" href="#the-modeltransformationtag" aria-label="Permalink to &quot;The ModelTransformationTag&quot;">​</a></h3><p>It stores a 4x4 transformation matrix that provides a direct mapping between raster space (row/column, pixel coordinates) and geographic space (x/y, real-world coordinates). <strong>This is a tag not a GeoKey!</strong>. Therefore, it is stored in the TIFF tags section.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Tag Number: 34264</span></span>
<span class="line"><span>Type: DOUBLE</span></span>
<span class="line"><span>Count: 16 (4x4 matrix)</span></span>
<span class="line"><span>Value/Offset: Points to an array of 16 doubles</span></span></code></pre></div><p>The transformation matrix looks like this:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>│ ScaleX  RotationXY  0  TranslateX │</span></span>
<span class="line"><span>│ RotationYX  ScaleY  0  TranslateY │</span></span>
<span class="line"><span>│    0         0      0      0      │</span></span>
<span class="line"><span>│    0         0      0      1      │</span></span></code></pre></div><p>Where <code>ScaleX</code> and <code>ScaleY</code> are the pixel size in the x and y directions, <code>RotationXY</code> and <code>RotationYX</code> are the rotation terms, and <code>TranslateX</code> and <code>TranslateY</code> are the offsets. Check the <a href="https://gdal.org/en/stable/tutorials/geotransforms_tut.html" target="_blank" rel="noreferrer">Geotransform</a> section in the GDAL documentation to get a better understanding of how this matrix works. Notice that the last row is always [0, 0, 0, 1] and the third column is always [0, 0, 0, 0].</p><h2 id="where-is-the-actual-image" tabindex="-1">Where is the actual Image? <a class="header-anchor" href="#where-is-the-actual-image" aria-label="Permalink to &quot;Where is the actual Image?&quot;">​</a></h2><p>The actual image data in a GeoTIFF/TIFF can be stored in two different ways: <strong>Tiled</strong> or <strong>Stripped</strong>. These two formats determine if the image is divided into small tiles or long strips.</p><ul><li><p><strong>Tiled Format:</strong> The image is divided into small tiles, each stored in a separate block. This format is useful for remote sensing, as it allows for faster access to specific regions. Four essential tags define the tiling structure:</p><ul><li><code>TileWidth (322)</code>: The width of each tile in pixels.</li><li><code>TileLength (323)</code>: The height of each tile in pixels.</li><li><code>TileOffsets (324)</code>: The byte offset to each tile.</li><li><code>TileByteCounts (325)</code>: The size of each tile in bytes.</li></ul></li><li><p><strong>Stripped Format:</strong> The image is divided into long strips, each stored in a separate block. Two essential tags define the strip structure:</p><ul><li><code>StripOffsets (273)</code>: Points to where each strip of image data begins at byte level.</li><li><code>StripByteCounts (279)</code>: Tells us how many bytes each strip contains.</li></ul></li></ul><p>These <em>data</em> tags work in conjunction with geographic metadata to form a comprehensive geospatial image system. Here&#39;s how it all looks together:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[IFD]</span></span>
<span class="line"><span>├── Standard TIFF Tags</span></span>
<span class="line"><span>│   ├── ImageWidth (256)</span></span>
<span class="line"><span>│   ├── ImageLength (257)</span></span>
<span class="line"><span>│   ├── StripOffsets (273) ────────┐</span></span>
<span class="line"><span>│   └── StripByteCounts (279)      │</span></span>
<span class="line"><span>│                                  │</span></span>
<span class="line"><span>├── GeoTIFF Tags                   │</span></span>
<span class="line"><span>│   ├── GeoKeyDirectoryTag (34735) │</span></span>
<span class="line"><span>│   ├── GeoDoubleParamsTag (34736) │</span></span>
<span class="line"><span>│   └── GeoAsciiParamsTag (34737)  │</span></span>
<span class="line"><span>│                                  ▼</span></span>
<span class="line"><span>[Image Data Strips]</span></span>
<span class="line"><span>Strip 1: [pixel data]</span></span>
<span class="line"><span>Strip 2: [pixel data]</span></span>
<span class="line"><span>...</span></span></code></pre></div><h2 id="write-a-geotiff-from-scratch" tabindex="-1">Write a GeoTIFF from Scratch <a class="header-anchor" href="#write-a-geotiff-from-scratch" aria-label="Permalink to &quot;Write a GeoTIFF from Scratch&quot;">​</a></h2><p>Let&#39;s put all this theory into practice. In this final section, we will create a minimal GeoTIFF file containing a single black pixel with WGS84 geographic coordinates. We&#39;ll create each component step by step, without using any libraries, to understand the file&#39;s binary structure. Here&#39;s a Python script that generates the GeoTIFF file:</p><h4 id="_1-tiff-header-8-bytes" tabindex="-1">1. TIFF Header (8 bytes) <a class="header-anchor" href="#_1-tiff-header-8-bytes" aria-label="Permalink to &quot;1. TIFF Header (8 bytes)&quot;">​</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">header </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;2sHL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;II&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">42</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><ul><li><code>&#39;II&#39;</code>: Little-endian byte order</li><li><code>42</code>: Magic number for TIFF format</li><li><code>8</code>: Offset to first IFD</li></ul><h4 id="_2-modeltransformationtag-128-bytes" tabindex="-1">2. ModelTransformationTag (128 bytes) <a class="header-anchor" href="#_2-modeltransformationtag-128-bytes" aria-label="Permalink to &quot;2. ModelTransformationTag (128 bytes)&quot;">​</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model_transformation </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> struct.pack(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;&lt;16d&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">180.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Row 1: X scale and translation</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">90.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Row 2: Y scale and translation</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Row 3: Unused</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # Row 4: Required values</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>This transformation maps:</p><ul><li>Pixel (0,0) → (-180°, -90°)</li><li>One pixel = one degree</li><li>No rotation</li></ul><h4 id="_3-geokeydirectory-24-bytes" tabindex="-1">3. GeoKeyDirectory (24 bytes) <a class="header-anchor" href="#_3-geokeydirectory-24-bytes" aria-label="Permalink to &quot;3. GeoKeyDirectory (24 bytes)&quot;">​</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">geo_key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> struct.pack(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;&lt;12H&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Version=1, Revision=1, MinorRev=0, NumKeys=2</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># GTModelTypeGeoKey: Geographic</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4326</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # GeographicTypeGeoKey: WGS84</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Defines:</p><ul><li>Geographic coordinate system</li><li>WGS84 datum (EPSG:4326)</li></ul><h4 id="_4-image-data-1-byte" tabindex="-1">4. Image Data (1 byte) <a class="header-anchor" href="#_4-image-data-1-byte" aria-label="Permalink to &quot;4. Image Data (1 byte)&quot;">​</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image_data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;B&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># One black pixel</span></span></code></pre></div><h4 id="_5-ifd-structure" tabindex="-1">5. IFD Structure <a class="header-anchor" href="#_5-ifd-structure" aria-label="Permalink to &quot;5. IFD Structure&quot;">​</a></h4><p>The IFD contains 11 required tags:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Calculate offsets for data blocks</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">offset_model_transform </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # IFD ends at 8 + 138 = 146</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">offset_geo_key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> offset_model_transform </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model_transformation)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 146 + 128 = 274</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">offset_image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> offset_geo_key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(geo_key)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 274 + 24 = 298</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tags </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Basic Image Properties</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ImageWidth: 1 pixel</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">257</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ImageLength: 1 pixel</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">258</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># BitsPerSample: 8 bits</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">259</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Compression: None</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">262</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># PhotometricInterpretation: BlackIsZero</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Data Location</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">273</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, offset_image),      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># StripOffsets</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">277</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),                 </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># SamplesPerPixel: 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">278</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),                 </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># RowsPerStrip: 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">279</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),                 </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># StripByteCounts: 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Geographic Information</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">34264</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, offset_model_transform),  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ModelTransformationTag</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">34735</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, offset_geo_key)           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># GeoKeyDirectoryTag</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Build the IFD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ifd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;H&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tags))  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Number of tags (11)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ifd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.join(tags)              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Tag entries</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ifd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;L&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Next IFD offset (0 = end)</span></span></code></pre></div><h4 id="_6-final-file-structure-layout" tabindex="-1">6. Final file structure layout <a class="header-anchor" href="#_6-final-file-structure-layout" aria-label="Permalink to &quot;6. Final file structure layout&quot;">​</a></h4><p>The final file structure looks like this:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Combine all parts into the TIFF file</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tiff_data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    header </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 8 bytes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ifd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 146 bytes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    model_transformation </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 128 bytes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    geo_key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 24 bytes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    image_data </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1 byte</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Write to file</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">with</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;output.tif&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;wb&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    f.write(tiff_data)</span></span></code></pre></div><p>If you want to just copy and paste the code, here it is:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> struct</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># TIFF Header (8 bytes)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">header </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;2sHL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;II&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">42</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Little-endian, version 42, first IFD at offset 8</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Define the 4x4 transformation matrix (16 doubles)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Matrix format: [ScaleX, 0, 0, TranslateX,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#                 0, ScaleY, 0, TranslateY,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#                 0, 0, 0, 0,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#                 0, 0, 0, 1]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Translates pixel (0,0) to (-180°, -90°) with 1° per pixel resolution</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model_transformation </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> struct.pack(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;&lt;16d&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">180.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Row 1: X scaling and translation</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">90.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Row 2: Y scaling and translation</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Row 3: Z (unused)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # Row 4: Homogeneous coordinate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># GeoKeyDirectory (WGS84 coordinate system)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">geo_key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> struct.pack(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;&lt;12H&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Header: version, revision, minor_rev, num_keys</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># GTModelTypeGeoKey (ModelTypeGeographic)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4326</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # GeographicTypeGeoKey (WGS84)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Image data (1x1 black pixel)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image_data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;B&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Calculate offsets for data blocks</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">offset_model_transform </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # IFD ends at 8 + 138 = 146</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">offset_geo_key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> offset_model_transform </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(model_transformation)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 146 + 128 = 274</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">offset_image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> offset_geo_key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(geo_key)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 274 + 24 = 298</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># IFD Entries (11 tags)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tags </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ImageWidth (256, SHORT, 1)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;HHLL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ImageLength (257, SHORT, 1)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;HHLL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">257</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # BitsPerSample (258, SHORT, 1)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;HHLL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">258</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Compression (259, SHORT, 1, no compression)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;HHLL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">259</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # PhotometricInterpretation (262, SHORT, 1, BlackIsZero)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;HHLL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">262</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # StripOffsets (273, LONG, 1, points to image data)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;HHLL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">273</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, offset_image),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # SamplesPerPixel (277, SHORT, 1)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;HHLL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">277</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # RowsPerStrip (278, LONG, 1)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;HHLL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">278</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # StripByteCounts (279, LONG, 1)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;HHLL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">279</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ModelTransformationTag (34264, DOUBLE, 16 values)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;HHLL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">34264</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, offset_model_transform),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # GeoKeyDirectoryTag (34735, SHORT, 12 values)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;HHLL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">34735</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, offset_geo_key)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Build the IFD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ifd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;H&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tags))  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Number of tags (11)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ifd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.join(tags)              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Tag entries</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ifd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> struct.pack(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;L&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Next IFD offset (0 = end)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Combine all parts into the TIFF file</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tiff_data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    header </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ifd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    model_transformation </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    geo_key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    image_data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Write to file</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">with</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;output.tif&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;wb&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    f.write(tiff_data)</span></span></code></pre></div><p>You can use the <a href="https://gdal.org/en/stable/programs/gdalinfo.html" target="_blank" rel="noreferrer">gdalinfo</a> command-line tool to verify whether a file is a valid GeoTIFF and inspect its geospatial metadata.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cesar@jordi-Katana-GF66-12UC:~/Desktop/geotiff$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gdalinfo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> output.tif</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Driver:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GTiff/GeoTIFF</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Files:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> output.tif</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Size</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Coordinate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> System</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GEOGCRS[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;WGS 84&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ENSEMBLE[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;World Geodetic System 1984 ensemble&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        MEMBER[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;World Geodetic System 1984 (Transit)&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        MEMBER[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;World Geodetic System 1984 (G730)&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        MEMBER[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;World Geodetic System 1984 (G873)&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        MEMBER[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;World Geodetic System 1984 (G1150)&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        MEMBER[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;World Geodetic System 1984 (G1674)&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        MEMBER[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;World Geodetic System 1984 (G1762)&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        MEMBER[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;World Geodetic System 1984 (G2139)&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        ELLIPSOID[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;WGS 84&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,6378137,298.257223563,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            LENGTHUNIT[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;metre&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,1]],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        ENSEMBLEACCURACY[2.0]],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    PRIMEM[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;Greenwich&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,0,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        ANGLEUNIT[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;degree&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,0.0174532925199433]],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    CS[ellipsoidal,2],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        AXIS[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;geodetic latitude (Lat)&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,north,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            ORDER[1],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            ANGLEUNIT[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;degree&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,0.0174532925199433]],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        AXIS[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;geodetic longitude (Lon)&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,east,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            ORDER[2],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            ANGLEUNIT[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;degree&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,0.0174532925199433]],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    USAGE[</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        SCOPE[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;Horizontal component of 3D system.&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        AREA[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;World.&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        BBOX[-90,-180,90,180]],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ID[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;EPSG&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,4326]]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> axis</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CRS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> axis</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mapping:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2,1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (-180.000000000000000,-90.000000000000000)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Pixel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Size</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (1.000000000000000,1.000000000000000)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Image</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Structure</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Metadata:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  INTERLEAVE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">BAND</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Corner</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Coordinates:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Upper</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Left</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (-180.0000000, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-90.0000000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">180d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39; 0.00&quot;W, 90d 0&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.00</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;S)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Lower Left  (-180.0000000, -89.0000000) (180d 0&#39; 0.00&quot;W,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 89d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39; 0.00&quot;S)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Upper Right (-179.0000000, -90.0000000) (179d 0&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.00</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;W, 90d 0&#39; 0.00&quot;S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Lower</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Right</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (-179.0000000, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-89.0000000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">179d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39; 0.00&quot;W, 89d 0&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.00</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;S)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Center      (-179.5000000, -89.5000000) (179d30&#39; 0.00&quot;W,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 89d30&#39; 0.00&quot;S)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Band 1 Block=1x1 Type=Byte, ColorInterp=Gray</span></span></code></pre></div><h2 id="what-s-next" tabindex="-1">What&#39;s next? <a class="header-anchor" href="#what-s-next" aria-label="Permalink to &quot;What&#39;s next?&quot;">​</a></h2><p>Thank you for diving deep into the GeoTIFF file format with us! We hope you have a better understanding of the GeoTIFF file structure and how to create one from scratch. In the next article, we will explore how to read and write GeoTIFF files using the GDAL library. GDAL makes it easy to work with GeoTIFF files, abstracting away the complexities of the binary format. Stay tuned!</p>`,92)]))}const u=i(r,[["render",o]]);export{C as __pageData,u as default};
